# 4ì¥. ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ ì„¤ê³„í•˜ê¸°

## 1. ë‹¨ì¼ ì±…ì„ ì›ì¹™

ğŸš€ ë‹¨ì¼ ì±…ì„ ì›ì¹™(SRP: Single Responsibility Principle): í•˜ë‚˜ì˜ ì»´í¬ë„ŒíŠ¸ëŠ” í•˜ë‚˜ì˜ ì—­í• ë§Œ ìˆ˜í–‰í•´ì•¼ í•œë‹¤.

ì˜ˆì‹œ ì½”ë“œ

```tsx
import React from "react";
import fetchPostById from "./fetchPostById";

interface PostType {
  id: string;
  title: string;
  summary: string;
}

const BlogPost = ({ id }: { id: string }) => {
  const [post, setPost] = useState<PostType>(EmptyBlogPost);  

  useEffect(() => {
    fetchPostById(id).then((post) => setPost(post))'
  },[id]);

  const handleClick = () => {
    setisLiked(!isLiked);
  }

  return (
    <div>
      <h2>{post.title}</h2>
      <p>{post.summary}</p>
      <button onClick={handleClick}>{isLiked ? 'UnLike' : 'Like'}</button>
    </div>
  );
};

export default BlogPost;
```

ì§€ê¸ˆ BlogPostë¥¼ ë³´ë©´, ê°œë³„ idì— ë”°ë¼ëŠ” ê²Œì‹œë¬¼ ë³€í™” / ì¢‹ì•„ìš” ëˆŒë €ì„ ë•Œì˜ ui ë³€í™” / ìƒˆë¡œìš´ ê²Œì‹œë¬¼ fetchí•˜ê¸° ì™€ ê°™ì´ ì—¬ëŸ¬ ê¸°ëŠ¥ì„ ìˆ˜í–‰í•œë‹¤.
ë‹¨ì¼ ì±…ì„ ì›ì¹™ì„ ìœ„ë°˜í•˜ê³  ìˆìŒ.

"í•˜ë‚˜ì˜ ì»´í¬ë„ŒíŠ¸ê°€ í•˜ë‚˜ì˜ ì±…ì„ë§Œ ê°€ì§„ë‹¤" ëŠ” ë£°ì„ ì§€í‚¤ê¸° ìœ„í•´ì„œëŠ ì•„ë˜ì™€ ê°™ì´ ë°”ê¿€ ìˆ˜ ìˆì„ë“¯

ë‚˜ë¼ë©´ ì¼ë‹¨, ë°ì´í„° íŒ¨ì¹˜ ì˜ì—­ì€ ë³„ë„ì˜ íŒŒì¼ë¡œ ë¶„ë¦¬ + tanstack queryë¥¼ ì‚¬ìš©í•  ê²ƒ ê°™ë‹¤.

```ts
////////////////////////
// useGetPostDetail.ts
/////////////////////////

import { useQuery } from '@tanstack/react-query'

const useGetPostDetail = ({id}) => {
  const { data: post, isPending, isError } = useQuery({
    queryKey: ['post-detail', id],
    queryFn: async () => getPostDetail(id)
  })

  return {
    post,
    isPending: isLoading,
    isError
  }
}


/////////////////////////
// LikedButton.tsx
/////////////////////////

export const LikedButton = () => {
  const [liked, setLiked] = useState(false);

  const handleClick = () => {
    setisLiked(!isLiked);
  }

  return (
    <button onClick={handleClick}>{isLiked ? 'UnLike' : 'Like'}</button>
  )
}

/////////////////////////
// BlogPost.tsx
/////////////////////////
import React from 'react';
import LikedButton from './LikedButton'l

export const BlogPost = ({ id }: { id: string }) => {
  const { post, isLoading, isError } = useGetPostDetail(id);

  if(isLoading) {
    return <div>Loading...</div>
  }

  return (
    <div>
      <h2>{post.title}</h2>
      <p>{post.summary}</p>
      <LikedButton/>
    </div>
  );
};


```


## 2. ì¤‘ë³µ ë°°ì œ ì›ì¹™

ğŸš€ DRY(Don't Repeat Yourself) ì›ì¹™ : ì½”ë“œ ì•ˆì—ì„œ ì¤‘ë³µì€ ìµœëŒ€í•œ ì¤„ì´ê¸°

ì¬ì‚¬ìš© í•  ìˆ˜ ìˆëŠ” ì»´í¬ë„ŒíŠ¸ë‚˜ í•¨ìˆ˜ë“¤ì€ ì¬ì‚¬ìš© í•˜ì.
ì˜ˆë¥¼ ë“¤ì–´, ìƒí’ˆ ëª©ë¡ í˜ì´ì§€ì—ì„œ ê°œë³„ ìƒí’ˆ ë¦¬ìŠ¤íŠ¸ë“¤ê³¼ ì‡¼í•‘ ì¹´íŠ¸ì— ë‹´ê¸°ëŠ” ê°œë³„ ìƒí’ˆë“¤ì„ ë…¸ì¶œí•´ì£¼ì–´ì•¼ í•  ë•Œ,

<img width="369" height="560" alt="Monosnap Untitled Diagram - draw â€¦ 2025-08-31 17-23-36" src="https://github.com/user-attachments/assets/abba8bc9-255b-4346-9d5c-d7ef9d573bbd" />

ìƒí’ˆ ê°œë³„ í•­ëª©ì„ ì¬í™œìš© í•  ìˆ˜ ìˆì„ ê²ƒìœ¼ë¡œ ë³´ì¸ë‹¤.

```tsx
// ProductList.tsx
import "./product.css";

const ProductList = ({
  products,
  addToCart,
}: {
  products: Product[];
  addToCart: (id: string) => void;
}) => (
  <div>
    <h2>Product List</h2>
    {products.map((product) => (
      <div key={product.id} className="product">
        <img src={product.image} alt={product.name} />
        <div>
          <h2>{product.name}</h2>
          <p>{product.price}</p>
          <button onClick={() => addToCart(product.id}}>Add to Cart</button>
        </div>
      </div>
    ))}
  </div>
);

export default ProductList;

// Cart.tsx
const Cart = ({
  cartItems,
  removeFromCart,
}: {
  cartItems: Product[];
  removeFromCart: (id: string) => void;
}) => (
  <div>
    <h2>Shopping Cart</h2>
    {cartItems.map((item) => (
      <div key={item.id} className="item">
        <img src={item.image} alt={item.name} />
        <div>
          <h2>{item.name}</h2>
          <p>{item.price}</p>
          <button onClick={() => removeFromCart(item.id}}>Remove From Cart</button>
        </div>
      </div>
    ))}
  </div>
);

export default Cart;
```

ë¦¬ìŠ¤íŠ¸ë¥¼ ì—´ê±°í•˜ëŠ” ë¶€ë¶„ì´ ì¤‘ë³µë˜ì–´ ë³´ì¸ë‹¤.
ì´ ë¶€ë¶„ì„ ê³µí†µ ë¡œì§ìœ¼ë¡œ ë¶„ë¦¬í•  ìˆ˜ ìˆì„ ê²ƒ ê°™ë‹¤.

```tsx
type ProductType = {
  item: Product;
  trigger: {
    name: string;
    action: (id?: string) => void;
  }
}
export const ProductItem = ({item, trigger}: ProuctType) => {

  return (
    <div key={item.id} className="item">
        <img src={item.image} alt={item.name} />
        <div>
          <h2>{item.name}</h2>
          <p>{item.price}</p>
          <button onClick={() => trigger.action(item.id}}>{trigger.name}</button>
        </div>
    </div>
  )
}
```

## 3. í•©ì„± í™œìš©í•˜ê¸°

ì²˜ìŒì—ëŠ” í•©ì„±ì´ Compound Pattern ì¸ì¤„ ì•Œì•˜ëŠ”ë°, ì•„ë‹Œë“¯í•˜ë‹¤.

ì•„ë˜ ì˜ˆì‹œ ì²˜ëŸ¼, ì—¬ëŸ¬ ì»´í¬ë„ŒíŠ¸ë“¤ì„ ê°ê° ë¶„ë¦¬í•˜ê³ , ë¶„ë¦¬ëœ ì»´í¬ë„ŒíŠ¸ë“¤ì´ ëª¨ì—¬ìˆëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ í•©ì„± ì»´í¬ë„ŒíŠ¸ë¼ ì§€ì¹­í•œë‹¤.

- ê´€ì‹¬ì‚¬ ë¶„ë¦¬
- ê°€ë…ì„±
- í…ŒìŠ¤íŠ¸ ìš©ì´: ëª…í™•í•œ ê´€ì‹¬ì‚¬ ë¶„ë¦¬ëŠ” ê°œë³„ ì»´í¬ë„ŒíŠ¸ì˜ í…ŒìŠ¤íŠ¸ë¥¼ ë” ìˆ˜ì›”í•˜ê²Œ í•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì¤€ë‹¤.
- ë†’ì€ ì¬ì‚¬ìš©ì„±: ê°œë³„ ì»´í¬ë„ŒíŠ¸(UserProfile, FriendList, PostList)ë¥¼ ì¬í™œìš© í•  ìˆ˜ ìˆë‹¤.

```tsx
import { UserDashboardProps } from "./types";
import { UserProfile } from "./UserProfile";
import { FriendList } from "./FriendList";
import { PostList } from "./PostList";

function UserDashboard({ user, posts }: UserDashboardProps) {
  return (
    <div>
      <UserProfile user={user} />
      <FriendList friends={user.friends} />
      <PostList posts={posts} />
    </div>
  );
}

export default UserDashboard;
```

## 4. ì»´í¬ë„ŒíŠ¸ ì„¤ê³„ ì›ì¹™ì˜ ê²°í•©

ê·¸ëŸ¬ë‚˜ í˜„ì‹¤ì€ ì•ì—ì„œ ë§í•œ ê²ƒì²˜ëŸ¼ ë”± ì˜ë¼ì„œ êµ¬í˜„í•  ìˆ˜ ìˆëŠ”ê²Œ ì•„ë‹ˆë¼ëŠ” ê²ƒ ì¦ˆìŒì€ ìˆ™ë ¨ëœ í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œìë“¤ì´ë¼ë©´ ê³µê°í•  ê²ƒì´ë‹¤.

ë‹¤ìŒ ì˜ˆì‹œë¥¼ í†µí•´ ê°™ì´ ìƒê°í•´ë³´ë©´ ì¢‹ì„ë“¯ í•˜ë‹¤.

Page ì»´í¬ë„ŒíŠ¸ì—ëŠ” í—¤ë”, ì‚¬ì´ë“œë°”, ë³¸ë¬¸ ì˜ì—­ì´ ìˆë‹¤.
ìƒˆë¡œìš´ ê¸°ëŠ¥ì´ ì¶”ê°€ë  ë•Œë§ˆë‹¤ propsê°€ ì ì°¨ ê¸¸ì–´ì§€ëŠ” ìƒí™©ì„ ë§ˆì£¼í•œë‹¤.

```tsx
type PageProps = {
  headerTitle: string;
  headerSubtitle: string;
  sidebarLinks: string[];
  isLoading: boolean;
  mainContent: React.ReactNode;
  onHeaderClick: () => void;
  onSidebarLinkClick: (link: string) => void;
}

function Page({
  headerTitle,
  headerSubtitle,
  sidebarLinks,
  isLoading,
  mainContent,
  onHeaderClick,
  onSidebarLinkClick,
}: PageProps) {
  return (
    <div>
      <header onClick={onHeaderClick}>
        <h1>{headerTitle}</h1>
        <h2>{headerSubtitle}</h2>
      </header>
      <aside>
        <ul>
          {sidebarLinks.map((link) => (
            <li key={link} onClick={() => onSidebarLinkClick(link)}>
              {link}
            </li>
          )}
        </ul>
      </aside>
      {!isLoading && <main>{mainContent}</main>}
    </div>
  )
}
```

ë³¸ë¬¸ì—ì„œëŠ” propsê°€ í†µìƒ 5ê°œ ì´ìƒì´ ë„˜ìœ¼ë©´ ë¶„ë¦¬ê°€ í•„ìš”í•˜ë‹¤ê³  ë§í•œë‹¤.
ê° propsì˜ ìš©ë„ë¥¼ ì‹œê°„ì´ ì§€ë‚ ìˆ˜ë¡ ê¹Œë¨¹ê¸°ê°€ ì‰½ê³ , ì˜ëª»ëœ propsë¥¼ ì „ë‹¬í•˜ê²Œ ë˜ê±°ë‚˜ ì „ë‹¬ ìˆœì„œê°€ í‹€ë¦´ ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤.

ì¼ë‹¨ ìœ„ í˜ì´ì§€ì—ì„œ ì„¸ ë©ì–´ë¦¬ë¡œ ë‚˜ëˆˆë‹¤ë©´ `header`, `sidebar`, `main` ì •ë„ì˜ ì˜ì—­ì´ ë˜ê² ë‹¤.

1) í—¤ë” ìª¼ê°œê¸°
```tsx
type HeaderProps = {
  headerTitle: string;
  headerSubtitle: string;
  onHeaderClick: () => void;
}

export const Header = (props: HeaderProps) => {
  const { headerTitle, headerSubtitle, onHeaderClick } = props;

  return (
      <header onClick={onHeaderClick}>
        <h1>{headerTitle}</h1>
        <h2>{headerSubtitle}</h2>
      </header>
  )
}
```
2) ì‚¬ì´ë“œë°” ìª¼ê°œê¸°

```tsx
type SidebarProps = {
 sidebarLinks: string[];
  onSidebarLinkClick: (link: string) => void;
}

export const Sidebar = (props: SidebarProps) => {
  const {sidebarLinks, onSidebarLinkClick} = props;

  return (
    <aside>
      <ul>
        {sidebarLinks.map((link) => (
          <li key={link} onClick={() => onSidebarLinkClick(link)}>
            {link}
          </li>
        )}
      </ul>
    </aside>
  )
}
```
3) ë©”ì¸ ìª¼ê°œê¸°
```tsx
export const Main = ({
  isLoading,
  mainContent
}: {
  isLoading: boolean,
  mainContent: React.ReactNode
}) => {
  return (
    {!isLoading && <main>{mainContent}</main>}
  )
}
```

4) í˜ì´ì§€ì—ì„œ ê°œë³„ ì»´í¬ë„ŒíŠ¸ (1~3) ë¡œë“œí•˜ê¸°

```tsx
function Page({
  headerTitle,
  headerSubtitle,
  sidebarLinks,
  isLoading,
  mainContent,
  onHeaderClick,
  onSidebarLinkClick,
}: PageProps) {
  return 
    <div>
      <Header {..ê°ê°ì˜ propsë“¤} />
      <Sidebar {..ê°ê°ì˜ propsë“¤} />
      <Main {..ê°ê°ì˜ propsë“¤}/>
    </div>
  )
}
```

ğŸ§ íìŒ ê·¸ë˜ë„ ì—¬ì „íˆ pageì—ëŠ” propsë“¤ì´ ë§ë‹¤.
ì»´í¬ë„ŒíŠ¸ì— ë„˜ê²¨ì£¼ì–´ì•¼ í•˜ëŠ” propsë“¤ë„ ì£¼ë ì£¼ë ..

ê° ê°œë³„ ì»´í¬ë„ŒíŠ¸ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ propsìœ¼ë¡œ ì „ë‹¬ë°›ì•„ì„œ ì²˜ë¦¬í•œë‹¤.
ìŠ¬ë¡¯ì²˜ëŸ¼ header, sidebar, mainì˜ ìœ„ì¹˜ë¥¼ ëš«ì–´ë†“ëŠ” íŒ¨í„´ì„.

```tsx
type PageProps = {
  header: React.ReactNode;
  sidebar: React.ReactNode;
  main: React.ReactNode;
};

function Page({ header, sidebar, main }: PageProps) {
  return (
    <div>
      {header}
      {sidebar}
      {main}
    </div>
  );
}
```

```tsx

const MyPage = () => {
  return (
    <Page
      header={<header>hello world</header>}
      sidebar={<aside>sidebar</aside>}
      main={<main>hi</main>}
    />
  )
}
```
